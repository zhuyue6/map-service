import{c as f}from"./chunks/index.DAxF4nnB.js";import{a as w,b as I,d as _,e as x,c as M}from"./chunks/measure.z-onIDru.js";import{d as T,ah as q,p as P,v as $,C,c as S,o as V,a_ as O,j as e,G as t,w as h,a as g,t as y}from"./chunks/framework.DHivC7wf.js";const N={class:"w-[500px] h-[700px]"},R={class:"flex w-full flex-col"},j={class:"flex mb-2 items-center"},z={class:"flex mb-2"},G={class:"flex mb-2"},J={class:"flex mb-2"},H={class:"flex mb-2"},X=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"map2d/interactive.md","filePath":"map2d/interactive.md"}'),K={name:"map2d/interactive.md"},Y=T({...K,setup(L){const s=q({draw:!1,drawType:"circle",select:!1,move:!1,modify:!1,measure:!1,measureType:"distance"}),v=P();let k,l,[c,m,p,d,F]=[];function u(i){s.drawType=i,c.use(i)}function A(i){s.measureType=i,F.use(i)}function r(i,a){if(a){D(i);return}b(i)}function D(i){switch(i){case"draw":c.enable();break;case"select":m.enable();break;case"move":p.enable();break;case"modify":d.enable();break;case"measure":F.enable();break}s[i]=!0}function b(i){switch(i){case"draw":c.close();break;case"select":m.close();break;case"move":p.close();break;case"modify":d.close();break;case"measure":F.close();break}s[i]=!1}return $(()=>{k=f({el:v.value});const i=k.container.layerManager.create();l=k.interactiveManager,c=w(l),m=I(l),p=_(l),d=x(l),F=M(l),i.create({type:"image",style:{stroke:{color:"red"}},rotate:30,image:{src:"https://raw.githubusercontent.com/zhuyue6/web-map-service/main/public/images/position.png"},data:[6e3,6e3]}),k.emitter.on("select",a=>{p.clean(),d.clean();for(const n of a)p.add(n),d.add(n)}),u(s.drawType),A(s.measureType),k.emitter.on("draw",a=>{i.create(a)})}),(i,a)=>{const n=C("el-option"),B=C("el-select"),E=C("el-button");return V(),S("div",null,[a[5]||(a[5]=O("",26)),e("div",N,[e("div",R,[e("div",j,[t(B,{modelValue:s.drawType,onChange:u},{default:h(()=>[t(n,{value:"circle",label:"绘制圆形"}),t(n,{value:"polygon",label:"绘制多边形"}),t(n,{value:"line",label:"绘制线段"})]),_:1},8,["modelValue"]),t(E,{class:"ml-2",onClick:a[0]||(a[0]=o=>r("draw",!s.draw)),type:"primary"},{default:h(()=>[g(y(`${s.draw?"关闭":"启用"} draw交互项`),1)]),_:1})]),e("div",z,[t(E,{class:"mr-2",onClick:a[1]||(a[1]=o=>r("select",!s.select)),type:"primary"},{default:h(()=>[g(y(`${s.select?"关闭":"启用"} select交互项`),1)]),_:1})]),e("div",G,[t(E,{class:"mr-2",onClick:a[2]||(a[2]=o=>r("modify",!s.modify)),type:"primary"},{default:h(()=>[g(y(`${s.modify?"关闭":"启用"} modify交互项`),1)]),_:1})]),e("div",J,[t(E,{class:"mr-2",onClick:a[3]||(a[3]=o=>r("move",!s.move)),type:"primary"},{default:h(()=>[g(y(`${s.move?"关闭":"启用"} move交互项`),1)]),_:1})]),e("div",H,[t(B,{modelValue:s.measureType,onChange:A},{default:h(()=>[t(n,{value:"distance",label:"测距"}),t(n,{value:"area",label:"测面积"})]),_:1},8,["modelValue"]),t(E,{class:"ml-2 mr-2",onClick:a[4]||(a[4]=o=>r("measure",!s.measure)),type:"primary"},{default:h(()=>[g(y(`${s.measure?"关闭":"启用"} measure交互项`),1)]),_:1})])]),e("div",{class:"w-[500px] h-[500px] border",ref_key:"mapRef",ref:v},null,512)])])}}});export{X as __pageData,Y as default};
