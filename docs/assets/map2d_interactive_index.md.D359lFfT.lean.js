import{c as A}from"./chunks/index.p3HzktB-.js";import{c as D}from"./chunks/draw.c6OZsDtu.js";import{c as x}from"./chunks/move.BBjKnOMc.js";import{c as w}from"./chunks/select.Qwx2Pf7f.js";import{c as I}from"./chunks/modify.CoEMxwzm.js";import{c as T}from"./chunks/measure.CY19O_Fk.js";import{d as $,ah as M,p as V,v as q,C as u,c as P,o as N,a_ as R,j as n,G as t,w as l,a as c,t as g}from"./chunks/framework.DHivC7wf.js";import"./chunks/Draw.DLF4MqmK.js";const S={class:"w-[500px] h-[700px]"},O={class:"flex w-full flex-col"},j={class:"flex mb-2 items-center"},z={class:"flex mb-2"},G={class:"flex mb-2"},J={class:"flex mb-2"},H={class:"flex mb-2"},as=JSON.parse('{"title":"交互管理器","description":"","frontmatter":{},"headers":[],"relativePath":"map2d/interactive/index.md","filePath":"map2d/interactive/index.md"}'),K={name:"map2d/interactive/index.md"},ts=$({...K,setup(L){const s=M({draw:!1,drawType:"circle",select:!1,move:!1,modify:!1,measure:!1,measureType:"distance"}),C=V();let k,h,[E,m,p,d,y]=[];function v(i){s.drawType=i,E.use(i)}function b(i){s.measureType=i,y.use(i)}function r(i,a){if(a){B(i);return}_(i)}function B(i){switch(i){case"draw":E.enable();break;case"select":m.enable();break;case"move":p.enable();break;case"modify":d.enable();break;case"measure":y.enable();break}s[i]=!0}function _(i){switch(i){case"draw":E.close();break;case"select":m.close();break;case"move":p.close();break;case"modify":d.close();break;case"measure":y.close();break}s[i]=!1}return q(()=>{k=A({el:C.value});const i=k.container.layerManager.create();h=k.interactiveManager,E=D(h),m=w(h),p=x(h),d=I(h),y=T(h),i.create({type:"image",style:{stroke:{color:"red"}},rotate:30,image:{src:"https://raw.githubusercontent.com/zhuyue6/web-map-service/main/public/images/position.png"},data:[6e3,6e3]}),k.emitter.on("select",a=>{p.clean(),d.clean();for(const e of a)p.add(e),d.add(e)}),v(s.drawType),b(s.measureType),k.emitter.on("draw",a=>{i.create(a)})}),(i,a)=>{const e=u("el-option"),f=u("el-select"),o=u("el-button");return N(),P("div",null,[a[5]||(a[5]=R("",13)),n("div",S,[n("div",O,[n("div",j,[t(f,{modelValue:s.drawType,onChange:v},{default:l(()=>[t(e,{value:"circle",label:"绘制圆形"}),t(e,{value:"polygon",label:"绘制多边形"}),t(e,{value:"line",label:"绘制线段"})]),_:1},8,["modelValue"]),t(o,{class:"ml-2",onClick:a[0]||(a[0]=F=>r("draw",!s.draw)),type:"primary"},{default:l(()=>[c(g(`${s.draw?"关闭":"启用"} draw交互项`),1)]),_:1})]),n("div",z,[t(o,{class:"mr-2",onClick:a[1]||(a[1]=F=>r("select",!s.select)),type:"primary"},{default:l(()=>[c(g(`${s.select?"关闭":"启用"} select交互项`),1)]),_:1})]),n("div",G,[t(o,{class:"mr-2",onClick:a[2]||(a[2]=F=>r("modify",!s.modify)),type:"primary"},{default:l(()=>[c(g(`${s.modify?"关闭":"启用"} modify交互项`),1)]),_:1})]),n("div",J,[t(o,{class:"mr-2",onClick:a[3]||(a[3]=F=>r("move",!s.move)),type:"primary"},{default:l(()=>[c(g(`${s.move?"关闭":"启用"} move交互项`),1)]),_:1})]),n("div",H,[t(f,{modelValue:s.measureType,onChange:b},{default:l(()=>[t(e,{value:"distance",label:"测距"}),t(e,{value:"area",label:"测面积"})]),_:1},8,["modelValue"]),t(o,{class:"ml-2 mr-2",onClick:a[4]||(a[4]=F=>r("measure",!s.measure)),type:"primary"},{default:l(()=>[c(g(`${s.measure?"关闭":"启用"} measure交互项`),1)]),_:1})])]),n("div",{class:"w-[500px] h-[500px] border",ref_key:"mapRef",ref:C},null,512)])])}}});export{as as __pageData,ts as default};
